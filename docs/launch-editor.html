<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>çºªå¹´ |ã€ç¬¬ä¸€æœŸã€‘launch-editor æºç è§£è¯»è®°å½• | ç‹å°å£®å£®</title>
    <meta name="description" content="A VitePress site">
    <link rel="preload stylesheet" href="/blog/assets/style.d16fa9ea.css" as="style">
    <script type="module" src="/blog/assets/app.df195c8e.js"></script>
    <link rel="modulepreload" href="/blog/assets/chunks/framework.984f5008.js">
    <link rel="modulepreload" href="/blog/assets/docs_launch-editor.md.4e0a53ad.lean.js">
    
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <meta name="keywords" content="ç‹å°å£®å£®">
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="https://lib.baomitu.com/gitalk/1.7.0/gitalk.min.css">
  <script src="https://lib.baomitu.com/gitalk/1.7.0/gitalk.min.js"></script>
  <script src="https://lib.baomitu.com/axios/0.21.1/axios.js"></script>
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><!--[--><div id="containerColor" class="theme" data-v-8d54a449><header class="navbar" data-v-8d54a449><div data-v-8d54a449><div class="flex-grow"></div><nav class="nav-links hide-mobile"><!--[--><!--[--><div class="nav-item"><a class="nav-link" href="/blog/index.html" target="" rel="">ğŸ  é¦–é¡µ <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="nav-link" href="/blog/more/docs.html" target="" rel="">ğŸ“… å½’æ¡£ <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="nav-link" href="/blog/more/tags.html" target="" rel="">ğŸ“‚ åˆ†ç±» <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="nav-link" href="/blog/more/Friendship.html" target="" rel="">ğŸ‘« å‹æƒ…é“¾æ¥ <!----></a></div><!--]--><!--]--><!----><!----></nav><!--[--><!--]--></div><div class="sidebar-button" data-v-8d54a449><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div></header><aside class="" data-v-8d54a449><!--[--><nav class="nav-links show-mobile"><!--[--><!--[--><div class="nav-item"><a class="nav-link" href="/blog/index.html" target="" rel="">ğŸ  é¦–é¡µ <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="nav-link" href="/blog/more/docs.html" target="" rel="">ğŸ“… å½’æ¡£ <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="nav-link" href="/blog/more/tags.html" target="" rel="">ğŸ“‚ åˆ†ç±» <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="nav-link" href="/blog/more/Friendship.html" target="" rel="">ğŸ‘« å‹æƒ…é“¾æ¥ <!----></a></div><!--]--><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar"><!--[--><!--]--></ul><!--[--><!--]--><!--]--></aside><!----><div class="sidebar-mask" data-v-8d54a449></div><main data-v-8d54a449><!--[--><div class="content"><!--[--><!--]--><div class="md-header"><div class="md-title">çºªå¹´ |ã€ç¬¬ä¸€æœŸã€‘launch-editor æºç è§£è¯»è®°å½•</div><span id="jinrishici-sentence">æ­£åœ¨åŠ è½½ä»Šæ—¥è¯—è¯....</span><div class="md-date">2021-08-11T00:00:00.000Z</div></div><ul class="catalog"><!--[--><li class="catalog-item"><a class="level level-2" href="#_1-è§£è¯»å‰çš„å‡†å¤‡">1. è§£è¯»å‰çš„å‡†å¤‡</a><!----></li><li class="catalog-item"><a class="level level-2" href="#_2-å¼€å§‹å­¦ä¹ -æµ…å°è¾„æ­¢">2. å¼€å§‹å­¦ä¹ ï¼Œæµ…å°è¾„æ­¢</a><!----></li><li class="catalog-item"><a class="level level-2" href="#_3-åŠ¨æ‰‹æ“ä½œ-æ·±å…¥å®è·µ">3. åŠ¨æ‰‹æ“ä½œï¼Œæ·±å…¥å®è·µ</a><!----></li><li class="catalog-item"><a class="level level-2" href="#_4-æ„Ÿæƒ³">4. æ„Ÿæƒ³</a><!----></li><!--]--></ul><div style="position:relative;"><div><blockquote><p>ã€è‹¥å·ã€‘launch-editor æºç è§£è¯»ï¼š<a href="https://juejin.cn/post/6959348263547830280" target="_blank" rel="noreferrer">https://juejin.cn/post/6959348263547830280</a></p></blockquote><h2 id="_1-è§£è¯»å‰çš„å‡†å¤‡" tabindex="-1">1. è§£è¯»å‰çš„å‡†å¤‡ <a class="header-anchor" href="#_1-è§£è¯»å‰çš„å‡†å¤‡" aria-hidden="true">#</a></h2><p>1.1 ç²—ç•¥é˜…è¯»ä¸€éå·å“¥çš„æºç è§£è¯»æ–‡ç« ï¼Œå¼„æ¸…æ¥šæ–‡ç« çš„ä¸»æ—¨å†…å®¹ï¼šæ¢ç©¶ vue-devtoolsã€Œåœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€ç»„ä»¶ã€åŠŸèƒ½å®ç°åŸç†**ï¼Œå®ƒçš„æ ¸å¿ƒå®ç°å°±æ˜¯ launch-editor**ã€‚</p><p>1.2 æ˜ç¡®è‡ªå·±åˆ°åº•è¦å­¦ä¹ ä»€ä¹ˆï¼š</p><p>â€‹ 1ï¼‰å­¦ä¹ è°ƒè¯•æºç çš„æ–¹æ³•ï¼›</p><p>â€‹ 2ï¼‰åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­æ¢ç©¶ launch-editor æºç æ˜¯å¦‚ä½•å®ç°åœ¨ç¼–è¾‘å™¨æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶ï¼›</p><p>â€‹ ç›®æ ‡ï¼šè·Ÿç€å·å“¥çš„æ–‡ç« å®Œæ•´èµ°å®Œä¸€éè°ƒè¯•çš„æµç¨‹ï¼Œå¹¶å¯¹å¤–è¾“å‡ºè®°å½•æ–‡æ¡£ã€‚</p><p>1.3 èµ„æºï¼š</p><ul><li><p>ä¸‹è½½å·å“¥çš„æºç ï¼š<code>git clone https://github.com/lxchuan12/open-in-editor.git</code>ï¼Œè¿›å…¥ vue3-project ç›®å½•ï¼Œå®‰è£…ä¾èµ–<code>yarn install</code></p></li><li><p>å®‰è£… vue-devtools è°·æ­Œæ‰©å±•ï¼šç¿»å¢™å»åº”ç”¨å•†åº—ä¸‹è½½å®‰è£…å³å¯ï¼ˆä¸‹è½½ 6.0.0 beta ç‰ˆï¼‰</p></li><li><p>äº†è§£ <a href="https://github.com/yyx990803/launch-editor" target="_blank" rel="noreferrer">launch-editor</a>ï¼šä¸»è¦åŠŸèƒ½æ˜¯åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€å¸¦æœ‰è¡Œå·çš„æ–‡ä»¶</p></li></ul><h2 id="_2-å¼€å§‹å­¦ä¹ -æµ…å°è¾„æ­¢" tabindex="-1">2. å¼€å§‹å­¦ä¹ ï¼Œæµ…å°è¾„æ­¢ <a class="header-anchor" href="#_2-å¼€å§‹å­¦ä¹ -æµ…å°è¾„æ­¢" aria-hidden="true">#</a></h2><p>ä¸Šè¿°çš„å‡†å¤‡å·¥ä½œæå®Œä¹‹åï¼Œæˆ‘ä»¬åŠ¨æ‰‹æ“ä½œä¸€ä¸‹ã€‚</p><h3 id="_2-1-å¼€å§‹åŠ¨æ‰‹" tabindex="-1">2.1 å¼€å§‹åŠ¨æ‰‹ <a class="header-anchor" href="#_2-1-å¼€å§‹åŠ¨æ‰‹" aria-hidden="true">#</a></h3><p>æˆ‘ä½¿ç”¨çš„ç¼–è¾‘å™¨æ˜¯ VSCodeã€‚</p><p>æ‰“å¼€ vue3-project ç›®å½•çš„ package.jsonï¼Œç‚¹å‡»è°ƒè¯•ï¼Œé€‰æ‹© serveã€‚è¿™ä¸€æ­¥æ“ä½œï¼Œä½¿å¾—æˆ‘ä»¬ä»¥ debug çš„å½¢å¼ï¼Œè¿è¡Œäº† <strong>vue-cli-service serve</strong> è¿™ä¸ªå‘½ä»¤ã€‚</p><p><img src="/blog/assets/launch-editor0.bbc57592.png" alt=""></p><p>è·Ÿç€æ–‡ç« å®ç°åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œæˆ‘æœ‰ç‚¹æ‡µé€¼ï¼Œå› ä¸ºæˆ‘ä¸çŸ¥é“æ¥ä¸‹æ¥ä¸ºä»€ä¹ˆçªç„¶è¦æœç´¢ã€launch-editor-middlewareã€‘è¿™ä¸ªåº“ã€‚</p><p>ç›´åˆ°æˆ‘å†æ¬¡é€šè¯»ä¸€éæ–‡ç« ï¼Œå‘ç°å·å“¥å‰é¢æœ‰æåˆ° vue-devtools çš„ <a href="https://github.com/vuejs/devtools/blob/legacy/docs/open-in-editor.md" target="_blank" rel="noreferrer">Open component in editor</a> è¿™ä¸ªæ–‡æ¡£ï¼Œè¿™ä¸ªæ–‡æ¡£é‡Œé¢æè¿°äº†å¼•ç”¨äº†ã€launch-editor-middlewareã€‘è¿™ä¸ªåº“æ¥å®ç°æ‰“å¼€æ–‡æ¡£çš„åŠŸèƒ½ã€‚è€Œæˆ‘ä¹‹å‰å…ˆå…¥ä¸ºä¸»åœ°ä»¥ä¸ºï¼Œè¿™æœŸæ˜¯è§£è¯» vue-devtools çš„æºç ï¼Œå…¶å®è¿™åªæ˜¯è§£è¯»å®ç°æ‰“å¼€æ–‡æ¡£åŠŸèƒ½çš„æºç è€Œå·²ã€‚</p><p>ç†è§£äº†è¿™ä¸€å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æœé¡¹ç›®é‡Œï¼ˆåŒ…æ‹¬ node_modulesï¼‰é‡Œçš„ã€launch-editor-middlewareã€‘å…³é”®å­—ï¼Œå°±å¯ä»¥æ‰¾åˆ°è¿™ä¸ªåº“çš„æºç ä½ç½®äº†ã€‚</p><h3 id="_2-2-è°ƒè¯•ä¹‹æ—…" tabindex="-1">2.2 è°ƒè¯•ä¹‹æ—… <a class="header-anchor" href="#_2-2-è°ƒè¯•ä¹‹æ—…" aria-hidden="true">#</a></h3><p><strong>è°ƒè¯•çš„æµç¨‹å°±æ˜¯æ‰“æ–­ç‚¹ï¼Œç‚¹å‡»è°ƒè¯•çš„æµç¨‹é¢æ¿ï¼Œç»è¿‡ä¸æ–­è°ƒè¯•ï¼Œè§‚å¯Ÿæ•°æ®çš„å˜åŒ–ã€‚</strong></p><p>ä¸‹å›¾ã€launch-editor-middlewareã€‘çš„æºç ï¼Œåœ¨è¿™ä»½æºç ä¸­æˆ‘ä»¬èƒ½å¾ˆè½»æ˜“åœ°åˆ†æå‡ºï¼Œæœ€ç»ˆè¿è¡Œçš„æ˜¯ launch å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è¿™è¿™é‡Œæ‰“ä¸€ä¸ªæ–­ç‚¹ï¼Œç„¶åè¿›å…¥åˆ°ã€launch-editorã€‘çš„æºç ï¼Œå®é™…è¿è¡Œçš„æ˜¯ <strong>launchEditor</strong> å‡½æ•°ã€‚</p><p><img src="/blog/assets/launch-editor1.968ca273.png" alt=""><img src="/blog/assets/launch-editor2.dd142fa1.png" alt=""></p><p>ç²—ç•¥çœ‹ä¸€é launchEditor å‡½æ•°ï¼Œå‘ç°å®ƒå®é™…ä¸Šæ˜¯åšäº†å››ä»¶äº‹ï¼š</p><ul><li><p>è·å– fileNameï¼ŒlineNumberï¼ŒcolumnNumber</p></li><li><p>å¼‚å¸¸å¤„ç†ï¼šæ˜¯å¦å­˜åœ¨æ–‡ä»¶ï¼ŒonErrorCallbackï¼Œæ˜¯å¦å­˜åœ¨ editor</p></li><li><p>çŒœæµ‹å½“å‰æ­£åœ¨ä½¿ç”¨çš„ç¼–è¾‘å™¨ï¼šguessEditor</p></li><li><p>ä½¿ç”¨ child_process.spwan å¼‚æ­¥æ‰“å¼€ä¸€ä¸ªå­è¿›ç¨‹æ¨¡å—ï¼Œå®ƒè°ƒèµ·äº† cmd.exe å·¥å…·æ‰“å¼€æˆ‘ä»¬çš„ç¼–è¾‘å™¨ï¼Œå¹¶æ‰“å¼€äº†æ–‡ä»¶ï¼ˆargs å°±æ˜¯æ–‡ä»¶çš„å‚æ•°ï¼‰</p></li></ul><p>çœ‹å®Œäº†è¿™ä¸ªå‡½æ•°ï¼Œå…¶å®å¤§æ¦‚å®ç°çš„åŸç†ä¹Ÿå°±å‡ºæ¥äº†ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (process</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">platform </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">win32</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">_childProcess</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">childProcess</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">spawn</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cmd.exe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/C</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">editor</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> stdio</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">inherit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">_childProcess</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">childProcess</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">spawn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">editor</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> stdio</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">inherit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>ä½†æˆ‘ä»¬è‚¯å®šè¿˜æœ‰å¾ˆå¤šç–‘æƒ‘ï¼Œæ¯”å¦‚ï¼š</p><ul><li><p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ç‚¹å‡»æŒ‰é’®ï¼Œç¼–è¾‘å™¨æ˜¯æ€ä¹ˆæ¥æ”¶åˆ°å®ƒçš„è¯·æ±‚ä¿¡æ¯å‘¢ï¼Ÿ</p></li><li><p>ç”¨åˆ°äº†å“ªäº› API/ç¼–ç¨‹æŠ€å·§ï¼Ÿ</p></li><li><p>è¿™ä¸ªåŠŸèƒ½å®ç°å¦‚æœè®©æˆ‘ä»¬æ¥å®ç°ï¼Œæ˜¯æ€ä¹ˆå®ç°å‘¢ï¼ˆå¤è¿°æ€è·¯ï¼‰ï¼Ÿ</p></li></ul><h2 id="_3-åŠ¨æ‰‹æ“ä½œ-æ·±å…¥å®è·µ" tabindex="-1">3. åŠ¨æ‰‹æ“ä½œï¼Œæ·±å…¥å®è·µ <a class="header-anchor" href="#_3-åŠ¨æ‰‹æ“ä½œ-æ·±å…¥å®è·µ" aria-hidden="true">#</a></h2><p>åœ¨å‰é¢çš„æ‹†è§£ä¸­ï¼Œè™½ç„¶å¾ˆå¤šåœ°æ–¹çœ‹ä¼¼çœ‹æ‡‚äº†ï¼Œä½†åˆæ²¡å®Œå…¨æ‡‚ï¼Œé‚£æˆ‘ä»¬æ¥è§£ç­”ä¸€ä¸‹åœ¨çœ‹æºç çš„æ—¶å€™çš„ç–‘é—®ï¼š</p><h3 id="_3-1-ç¼–è¾‘å™¨å¦‚ä½•æ¥æ”¶åˆ°æµè§ˆå™¨çš„è¯·æ±‚ä¿¡æ¯" tabindex="-1">3.1 ç¼–è¾‘å™¨å¦‚ä½•æ¥æ”¶åˆ°æµè§ˆå™¨çš„è¯·æ±‚ä¿¡æ¯ <a class="header-anchor" href="#_3-1-ç¼–è¾‘å™¨å¦‚ä½•æ¥æ”¶åˆ°æµè§ˆå™¨çš„è¯·æ±‚ä¿¡æ¯" aria-hidden="true">#</a></h3><p>ç‚¹å‡» vue-devtools çš„æŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°å®ƒå‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼š<a href="http://localhost:8080/__open-in-editor?file=src/components/HelloWorld.vue" target="_blank" rel="noreferrer">http://localhost:8080/__open-in-editor?file=src/components/HelloWorld.vue</a></p><p><img src="/blog/assets/launch-editor3.69af7831.png" alt=""></p><p>é‚£ç¼–è¾‘å™¨æ˜¯å¦‚ä½•æ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚å‘¢ï¼Ÿæœç´¢ã€launch-editor-middlewareã€‘å…³é”®å­—ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œåœ¨ @vue/cli-service çš„ serve.js æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨äº† <strong>app.use(&quot;/__open-in-editor&quot;)</strong>ï¼Œç”¨è¿‡ express çš„å°ä¼™ä¼´ä¼šæ¯”è¾ƒç†Ÿæ‚‰ï¼Œè¿™æ˜¯express å¼•å…¥ä¸­é—´ä»¶çš„ç”¨æ³•ã€‚å½“æµè§ˆå™¨å‘é€ <a href="http://localhost:8080/__open-in-editor?file=src/components/HelloWorld.vue" target="_blank" rel="noreferrer">http://localhost:8080/__open-in-editor?file=src/components/HelloWorld.vue</a> è¿™ä¸ªè¯·æ±‚çš„æ—¶å€™ï¼Œå°±è¿›å…¥åˆ°ä¸‹é¢è¿™ä¸ªä»£ç äº†ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// vue3-project/node_modules/@vue/cli-service/lib/commands/serve.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 46è¡Œ</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> launchEditorMiddleware </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">launch-editor-middleware</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 192è¡Œ</span></span>
<span class="line"><span style="color:#82AAFF;">before</span><span style="color:#A6ACCD;"> (app</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> server) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// launch editor support.</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// this works with vue-devtools &amp; @vue/cli-overlay</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/__open-in-editor</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">launchEditorMiddleware</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">To specify an editor, specify the EDITOR env variable or </span><span style="color:#89DDFF;">`</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">add &quot;editor&quot; field to your Vue project config.</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#F07178;">    )))</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// çœç•¥è‹¥å¹²ä»£ç ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-2-ç”¨åˆ°äº†å“ªäº›-api-ç¼–ç¨‹æŠ€å·§" tabindex="-1">3.2 ç”¨åˆ°äº†å“ªäº› API/ç¼–ç¨‹æŠ€å·§ <a class="header-anchor" href="#_3-2-ç”¨åˆ°äº†å“ªäº›-api-ç¼–ç¨‹æŠ€å·§" aria-hidden="true">#</a></h3><h4 id="_3-2-1-å‡½æ•°çš„é‡è½½" tabindex="-1">3.2.1 å‡½æ•°çš„é‡è½½ <a class="header-anchor" href="#_3-2-1-å‡½æ•°çš„é‡è½½" aria-hidden="true">#</a></h4><p>åœ¨ã€launch-editor-middlewareã€‘çš„å…¥å£å‡½æ•°è¿™é‡Œï¼Œä½¿ç”¨äº†å‡½æ•°é‡è½½çš„å†™æ³•ï¼Œè¿™ç§å†™æ³•åœ¨å¾ˆå¤šæºç ä¸­éƒ½å¾ˆå¸¸è§ï¼Œç›®çš„æ˜¯æ–¹ä¾¿ç”¨æˆ·è°ƒç”¨æ—¶ä¼ å‚ï¼Œé’ˆå¯¹ä¸å®šé‡çš„å‚æ•°å¯¹åº”ä¸åŒçš„æ“ä½œå†…å®¹ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// vue3-project/node_modules/launch-editor-middleware/index.js</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">url</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> launch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">launch-editor</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">specifiedEditor</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">srcRoot</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">onErrorCallback</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// specifiedEditor =&gt; è¿™é‡Œä¼ é€’è¿‡æ¥çš„åˆ™æ˜¯ () =&gt; console.log() å‡½æ•°</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æ‰€ä»¥å’Œ onErrorCallback åˆ‡æ¢ä¸‹ï¼ŒæŠŠå®ƒèµ‹å€¼ç»™é”™è¯¯å›è°ƒå‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">specifiedEditor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">onErrorCallback</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">specifiedEditor</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">specifiedEditor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">undefined</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å¦‚æœç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼ŒåŒæ ·æŠŠå®ƒèµ‹å€¼ç»™é”™è¯¯å›è°ƒå‡½æ•°</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è¿™é‡Œä¼ é€’è¿‡æ¥çš„æ˜¯undefined</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">srcRoot</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">onErrorCallback</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">srcRoot</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">srcRoot</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">undefined</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// srcRoot æ˜¯ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼Œæˆ–è€…å½“å‰ node è¿›ç¨‹çš„ç›®å½•</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">srcRoot</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">srcRoot</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cwd</span><span style="color:#F07178;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æœ€åè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œ express ä¸­é—´ä»¶</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">launchEditorMiddleware</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">req</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">next</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// çœç•¥ ...</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="_3-2-2-è£…é¥°å™¨æ¨¡å¼" tabindex="-1">3.2.2 è£…é¥°å™¨æ¨¡å¼ <a class="header-anchor" href="#_3-2-2-è£…é¥°å™¨æ¨¡å¼" aria-hidden="true">#</a></h4><p>è¿™æ®µä»£ç  wrapErrorCallback å…ˆæ‰§è¡Œå…¶ä»–ä»£ç ï¼Œå†å»æ‰§è¡Œ onErrorCallbackï¼Œè¿™ç§åŒ…è£¹å‡½æ•°çš„å½¢å¼åœ¨å¾ˆå¤šæºç é‡Œéƒ½ä¹Ÿå¾ˆå¸¸è§ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè£…é¥°å™¨ï¼ŒæŠŠ onErrorCallback åŒ…è£…äº†èµ·æ¥ï¼Œå¯¹åŸå‡½æ•°è¿›è¡Œäº†å¢å¼ºã€‚</p><p>è¿™ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼ä¸­çš„è£…é¥°å™¨è®¾è®¡æ¨¡å¼ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">wrapErrorCallback</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">cb</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fileName</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">errorMessage</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">chalk</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">red</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Could not open </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">basename</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">fileName</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> in the editor.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    )</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">errorMessage</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">errorMessage</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">errorMessage</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">errorMessage</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">chalk</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">red</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">The editor process exited with an error: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">errorMessage</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      )</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">cb</span><span style="color:#F07178;">) </span><span style="color:#82AAFF;">cb</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">fileName</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">errorMessage</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">onErrorCallback </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">wrapErrorCallback</span><span style="color:#A6ACCD;">(onErrorCallback)</span></span>
<span class="line"></span></code></pre></div><h4 id="_3-2-3-apply" tabindex="-1">3.2.3 apply <a class="header-anchor" href="#_3-2-3-apply" aria-hidden="true">#</a></h4><p>apply è¯­æ³•ï¼š<em>func.apply(thisArg, [argsArray])</em>ï¼Œä¹Ÿç»å¸¸åœ¨æºç ä¸­å¯ä»¥çœ‹åˆ°ã€‚è¿™é‡Œä½¿ç”¨ apply æ˜¯æŠŠ extraArgs ä½œä¸º push æ–¹æ³•çš„ arguments ä¼ è¿›å»ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (lineNumber) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// getArgumentsForPosition è¿”å›ä¸€ä¸ªæ•°ç»„</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">extraArgs</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">getArgumentsForPosition</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">editor</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fileName</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">lineNumber</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">columnNumber</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å°† extraArgs å‚æ•° push åˆ° args é‡Œ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">push</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">extraArgs</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">fileName</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="_3-2-4-cild-process" tabindex="-1">3.2.4 cild_process <a class="header-anchor" href="#_3-2-4-cild-process" aria-hidden="true">#</a></h4><p>child_process æ˜¯ Node.js çš„ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒæä¾›äº†è¡ç”Ÿå­è¿›ç¨‹çš„èƒ½åŠ›ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šåœ¨çˆ¶ Node.js è¿›ç¨‹å’Œè¡ç”Ÿçš„å­è¿›ç¨‹ä¹‹é—´å»ºç«‹ stdinã€stdout å’Œ stderr çš„ç®¡é“ã€‚</p><h4 id="_3-2-5-process-platform" tabindex="-1">3.2.5 process.platform <a class="header-anchor" href="#_3-2-5-process-platform" aria-hidden="true">#</a></h4><p>ç”¨äºæ ‡è¯†è¿è¡Œ Node.js è¿›ç¨‹çš„æ“ä½œç³»ç»Ÿå¹³å°ï¼Œè¿”å›å­—ç¬¦ä¸²ï¼Œç›®å‰å¯èƒ½çš„å€¼æœ‰ï¼š &quot;aix&quot; | &quot;darwin&quot; | &quot;freebsd&quot; | &quot;linux&quot; | &quot;openbsd&quot; | &quot;sunos&quot; | &quot;win32&quot;</p><h3 id="_3-3-å¦‚ä½•å®ç°-å¤è¿°æ€è·¯" tabindex="-1">3.3 å¦‚ä½•å®ç°ï¼ˆå¤è¿°æ€è·¯ï¼‰ <a class="header-anchor" href="#_3-3-å¦‚ä½•å®ç°-å¤è¿°æ€è·¯" aria-hidden="true">#</a></h3><ul><li><p>æµè§ˆå™¨ä¸ç¼–è¾‘å™¨çš„é€šè®¯ï¼šå€ŸåŠ© Node.js è¿›ç¨‹ï¼Œä¸æµè§ˆå™¨å‘ç”Ÿé€šè®¯</p></li><li><p>æµè§ˆå™¨å°†éœ€è¦æ‰“å¼€çš„æ–‡ä»¶è·¯å¾„é€šè¿‡å‚æ•°ä¼ é€’ç»™ç¼–è¾‘å™¨</p></li><li><p>åˆ¤æ–­æ“ä½œç³»ç»Ÿå¹³å°å’Œæ‰€ä½¿ç”¨çš„ç¼–è¾‘å™¨ï¼ˆæ¯ä¸ªå¹³å°çš„å‘½ä»¤è¡Œç¨‹åºä¸ä¸€æ ·ï¼Œæ¯ä¸ªç¼–è¾‘å™¨çš„ç¯å¢ƒå˜é‡ä¹Ÿä¸ä¸€æ ·ï¼‰</p></li><li><p>å€ŸåŠ© Node è°ƒèµ· cmd.exe å·¥å…·æ‰“å¼€æˆ‘ä»¬çš„ç¼–è¾‘å™¨ï¼Œæ‰“å¼€å¯¹åº”è·¯å¾„çš„æ–‡ä»¶</p></li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ä¼ªä»£ç </span></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">__open-in-editor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> handleLaunchEditor)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">handleLaunchEditor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">filePath</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">platform</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">platform</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">editor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">guessEditor</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">childProcess</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">spawn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">editor</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fileArgs</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> stdio</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">inherit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_4-æ„Ÿæƒ³" tabindex="-1">4. æ„Ÿæƒ³ <a class="header-anchor" href="#_4-æ„Ÿæƒ³" aria-hidden="true">#</a></h2><ul><li><p>ç¼–ç èƒ½åŠ›ï¼šé€šè¿‡è§£è¯» launch-editor æºç ï¼Œå­¦ä¹ /é‡æ¸©äº†ã€å‡½æ•°çš„é‡è½½ã€‘ã€è£…é¥°å™¨æ¨¡å¼ã€‘ã€apply ä½¿ç”¨æ–¹æ³•ã€‘ï¼Œæºç çš„ç»„ç»‡ç»“æ„ä¹Ÿéå¸¸å€¼å¾—æˆ‘ä»¬å­¦ä¹ ï¼Œæ¯”å¦‚é‡Œé¢å¾ˆå¤šåŠŸèƒ½ä»£ç éƒ½å•ç‹¬å°è£…èµ·æ¥ï¼Œå°è£…æˆå‡½æ•°æˆ–è€…æ¨¡å—ï¼Œä½¿å¾—æ•´ä¸ªæºç çš„ç»“æ„éå¸¸æ¸…æ™°ï¼Œæ ¸å¿ƒé€šä¿—æ˜“æ‡‚ï¼Œæ˜“äºè§£è¯»å’Œç»´æŠ¤ã€‚ï¼ˆè¿™ä¹Ÿå¯ä»¥ç†è§£ä¸ºè‡ªé¡¶å‘ä¸‹çš„ç¼–ç¨‹æ–¹æ³•ï¼‰</p></li><li><p>æ‹“å±•è§†é‡ï¼šæºç ä¸­åŒ…å«äº†å¾ˆå¤šä¸ Node.js ç›¸å…³çš„æ–¹æ³•ï¼Œæœ‰å¾ˆå¤šéƒ½æ˜¯æˆ‘ä¸ç†Ÿæ‚‰çš„ï¼Œåœ¨è§£è¯»æºç çš„è¿‡ç¨‹ä¹Ÿæ˜¯æˆ‘å­¦ä¹  Node.js çš„è¿‡ç¨‹ã€‚</p></li><li><p>å·¥ä½œä¸­å¯èƒ½ä¼šç”¨åˆ°ï¼š</p></li><li><ul><li>å¼€å‘ VSCode æ’ä»¶ä¸å¤–ç•Œé€šè®¯å¯å€ŸåŠ© Node.js è¿›ç¨‹</li><li>è£…é¥°å™¨æ¨¡å¼çš„åº”ç”¨</li></ul></li><li><ul><li>åˆ¤æ–­æ“ä½œç³»ç»Ÿå¹³å°</li></ul></li></ul><div id="gitalk-container"></div></div></div><div class="links-wrapper"><div class="prev-link"><!----></div><div class="next-link"><!----></div></div><div><footer class="page-edit"><!--[--><a href="https://juejin.cn/user/3175045313607534"><img class="imgIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC"></a><!--]--></footer><p class="platform"> ä»¥ä¸Šçš†ä¸º <a href="javascript:;">ç‹å°å£®å£®</a> æ–‡ç« å‘å¸ƒå¹³å° </p><p class="platform"> Copyright Â© 2023-2099 <a href="https://github.com/jexlau">@wdl</a></p></div><!--[--><!--]--></div><div style="display:none;" class="imgBox"><img src=""></div><!--]--></main><div class="theme-select" data-v-8d54a449><ul data-v-8d54a449><li class="active" data-v-8d54a449>â˜€ï¸</li><li class="" data-v-8d54a449>ğŸŒ‘</li></ul></div></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"docs_co.md\":\"b3985908\",\"readme.md\":\"305e69a5\",\"more_index.md\":\"3c4389c0\",\"index.md\":\"f5191847\",\"more_docs.md\":\"a58c2632\",\"more_friendship.md\":\"58f4e050\",\"more_tags.md\":\"3b03880e\",\"docs_vue3-release.md\":\"2d8cfcb2\",\"docs_launch-editor.md\":\"4e0a53ad\",\"docs_co1.md\":\"e1abaeeb\",\"docs_co2.md\":\"75f80d0e\",\"docs_vue3-utils.md\":\"70936fb8\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ç‹å°å£®å£®\",\"description\":\"A VitePress site\",\"base\":\"/blog/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"displayAllHeaders\":true,\"logo\":\"/favicon.ico\",\"pages\":[{\"frontMatter\":{\"date\":\"2023-03-13\",\"title\":\"ç‹å°å£®å£® |ã€ç¬¬ä¸€æœŸã€‘ç¬¬ä¸€æ¬¡æ­å»ºåšå®¢è®°å½•\",\"tags\":[\"è®°å½•\",\"æ³¨æ„äº‹é¡¹\"],\"describe\":\"ç¬¬ä¸€æ¬¡æ­å»ºåšå®¢è®°å½•\"},\"regularPath\":\"/docs/co.html\",\"relativePath\":\"docs/co.md\"},{\"frontMatter\":{\"date\":\"2021-09-02\",\"title\":\"çºªå¹´ |ã€ç¬¬å››æœŸã€‘æµ…æ co æºç \",\"tags\":[\"æºç \",\"Promise\"],\"describe\":\"æµ…æ co æºç \"},\"regularPath\":\"/docs/co2.html\",\"relativePath\":\"docs/co2.md\"},{\"frontMatter\":{\"date\":\"2021-09-02\",\"title\":\"çºªå¹´ |ã€ç¬¬å››æœŸã€‘æµ…æ co æºç \",\"tags\":[\"æºç \",\"Promise\"],\"describe\":\"æµ…æ co æºç \"},\"regularPath\":\"/docs/co1.html\",\"relativePath\":\"docs/co1.md\"},{\"frontMatter\":{\"date\":\"2021-08-25\",\"title\":\"çºªå¹´ |ã€ç¬¬ä¸‰æœŸã€‘Vue3 Release æºç è§£è¯»è®°å½•\",\"tags\":[\"æºç \",\"vue3\"],\"describe\":\"Vue3 Release æºç è§£è¯»\"},\"regularPath\":\"/docs/vue3-release.html\",\"relativePath\":\"docs/vue3-release.md\"},{\"frontMatter\":{\"date\":\"2021-08-18\",\"title\":\"çºªå¹´ |ã€ç¬¬äºŒæœŸã€‘Vue3 æºç ä¸­çš„åŸºç¡€å·¥å…·å‡½æ•°\",\"tags\":[\"æºç \",\"vue3\"],\"describe\":\"Vue3 ä¸­çš„å·¥å…·å‡½æ•°æºç è§£è¯»è®°å½•\"},\"regularPath\":\"/docs/vue3-utils.html\",\"relativePath\":\"docs/vue3-utils.md\"},{\"frontMatter\":{\"date\":\"2021-08-11\",\"title\":\"çºªå¹´ |ã€ç¬¬ä¸€æœŸã€‘launch-editor æºç è§£è¯»è®°å½•\",\"tags\":[\"æºç \",\"vue3\"],\"describe\":\"launch-editor æºç è§£è¯»è®°å½•\"},\"regularPath\":\"/docs/launch-editor.html\",\"relativePath\":\"docs/launch-editor.md\"}],\"author\":\"ç‹å°å£®å£®\",\"search\":true,\"nav\":[{\"text\":\"ğŸ  é¦–é¡µ\",\"link\":\"/index\"},{\"text\":\"ğŸ“… å½’æ¡£\",\"link\":\"/more/docs\"},{\"text\":\"ğŸ“‚ åˆ†ç±»\",\"link\":\"/more/tags\"},{\"text\":\"ğŸ‘« å‹æƒ…é“¾æ¥\",\"link\":\"/more/Friendship\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>